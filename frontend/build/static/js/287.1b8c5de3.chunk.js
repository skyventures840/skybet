"use strict";(self.webpackChunkween_sports_betting=self.webpackChunkween_sports_betting||[]).push([[287],{9287:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(5043),l=t(4194),n=t(6305),i=t(4167),o=t(579);const r=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[u,v]=(0,a.useState)(""),[g,p]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=e=>{const{searchTerm:s}=e.detail;v(s)},s=e=>{const{selectedDate:s}=e.detail;p(s)};window.addEventListener("globalSearch",e),window.addEventListener("globalDateFilter",s);const t=localStorage.getItem("globalSearchTerm"),a=localStorage.getItem("globalSelectedDate");return t&&v(t),a&&p(a),()=>{window.removeEventListener("globalSearch",e),window.removeEventListener("globalDateFilter",s)}},[]),(0,a.useEffect)(()=>{let s=e;if(u.trim()&&(s=s.filter(e=>{var s,t,a,l;const n=u.toLowerCase();return(null===(s=e.homeTeam)||void 0===s?void 0:s.toLowerCase().includes(n))||(null===(t=e.awayTeam)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(a=e.league)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(l=e.sport)||void 0===l?void 0:l.toLowerCase().includes(n))})),g){const e=new Date(g);e.setHours(0,0,0,0);const t=new Date(e);t.setDate(t.getDate()+1),s=s.filter(s=>{const a=new Date(s.startTime);return a>=e&&a<t})}const t=new Date;s=s.filter(e=>new Date(e.startTime)>=t),r(s)},[e,u,g]);const b=async()=>{try{d(!0),h(null);const e=await n.A.getMatches(),t=(e=>e.filter(e=>"baseball_mlb"===e.sport_key).map(e=>{var s,t,a;const l=null===(s=e.bookmakers)||void 0===s?void 0:s[0];if(!l||!l.markets||0===l.markets.length)return null;const n=l.markets.find(e=>"h2h"===e.key),i=l.markets.find(e=>"totals"===e.key);if(!n||!n.outcomes||n.outcomes.length<2)return null;const o=n.outcomes,r={1:(null===(t=o[0])||void 0===t?void 0:t.price)||null,2:(null===(a=o[1])||void 0===a?void 0:a.price)||null,X:0,"1X":0,12:0,"2X":0};var c,d,m;if(i&&i.outcomes&&i.outcomes.length>=2&&(r.Total=(null===(c=i.outcomes[0])||void 0===c?void 0:c.point)||null,r.TM=(null===(d=i.outcomes[0])||void 0===d?void 0:d.price)||null,r.TU=(null===(m=i.outcomes[1])||void 0===m?void 0:m.price)||null),!r[1]||!r[2])return null;const h=Object.keys(r).filter(e=>null!==r[e]&&0!==r[e]).length,u=l.markets.filter(e=>e.outcomes&&e.outcomes.length>0&&e.outcomes.some(e=>e.price>0)).length,v=Math.max(0,u-h);return{id:e.gameId,league:e.sport_title,time:new Date(e.commence_time).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),startTime:new Date(e.commence_time),homeTeam:e.home_team,awayTeam:e.away_team,odds:r,additionalOdds:v>0?"+".concat(v):null,sport:"Baseball"}}).filter(e=>null!==e))(e.data.data||[]);s(t)}catch(e){console.error("Error fetching baseball matches:",e),h("Failed to load baseball matches. Please try again later.")}finally{d(!1)}};(0,a.useEffect)(()=>{b()},[]);const j=(()=>{const e={};return t.forEach(s=>{const t=s.league||"Other";e[t]||(e[t]=[]),e[t].push(s)}),e})();return c?(0,o.jsxs)("div",{className:"sport-page",children:[(0,o.jsxs)("div",{className:"sport-header",children:[(0,o.jsx)("h1",{className:"sport-title",children:"Baseball"}),(0,o.jsx)("p",{className:"sport-subtitle",children:"Bet on MLB and international baseball leagues"})]}),(0,o.jsxs)("div",{className:"matches-section",children:[(0,o.jsxs)("div",{className:"section-header",children:[(0,o.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,o.jsx)("div",{className:"view-all-btn empty",style:{opacity:.5},children:"Loading\u2026"})]}),(0,o.jsx)("div",{className:"matches-skeleton-grid",children:Array.from({length:8}).map((e,s)=>(0,o.jsxs)("div",{className:"skeleton",style:{padding:16},children:[(0,o.jsx)("div",{className:"skeleton-line",style:{width:"60%",height:16,marginBottom:8}}),(0,o.jsx)("div",{className:"skeleton-line",style:{width:"80%",height:12,marginBottom:12}}),(0,o.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,o.jsx)("div",{className:"skeleton-odds"}),(0,o.jsx)("div",{className:"skeleton-odds"}),(0,o.jsx)("div",{className:"skeleton-odds"})]})]},s))})]})]}):m?(0,o.jsxs)("div",{className:"sport-page",children:[(0,o.jsxs)("div",{className:"sport-header",children:[(0,o.jsx)("h1",{className:"sport-title",children:"Baseball"}),(0,o.jsx)("p",{className:"sport-subtitle",children:"Bet on MLB and international baseball leagues"})]}),(0,o.jsxs)("div",{className:"error-container",children:[(0,o.jsx)("p",{className:"error-message",children:m}),(0,o.jsx)("button",{onClick:b,className:"retry-btn",children:"Try Again"})]})]}):(0,o.jsxs)("div",{className:"sport-page",children:[(0,o.jsxs)("div",{className:"sport-header",children:[(0,o.jsx)("h1",{className:"sport-title",children:"Baseball"}),(0,o.jsx)("p",{className:"sport-subtitle",children:"Bet on MLB and international baseball leagues"})]}),(0,o.jsxs)("div",{className:"matches-section",children:[(0,o.jsxs)("div",{className:"section-header",children:[(0,o.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,o.jsx)("button",{className:"view-all-btn",children:"View All"})]}),0===Object.keys(j).length?(0,o.jsx)("div",{className:"no-matches",children:(0,o.jsx)("p",{children:"No baseball matches available at the moment."})}):Object.entries(j).map(e=>{let[s,t]=e;const a=t[0]||{},n=a.fullLeagueTitle||(0,i.k)({sportKeyOrName:a.sport_key||a.sport||"Baseball",country:a.country||s||"",leagueName:a.league||s,fallbackSportTitle:"Baseball"});return(0,o.jsxs)("div",{className:"subcategory-section",children:[(0,o.jsx)("h3",{className:"subcategory-title",children:n}),(0,o.jsx)("div",{className:"matches-grid",children:t.map(e=>(0,o.jsx)(l.A,{match:e},e.id))})]},s)})]})]})}}}]);
//# sourceMappingURL=287.1b8c5de3.chunk.js.map