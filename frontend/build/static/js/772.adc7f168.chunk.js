"use strict";(self.webpackChunkween_sports_betting=self.webpackChunkween_sports_betting||[]).push([[772],{7772:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(5043),l=t(4194),n=t(6305),i=t(579);const o=()=>{const[e,s]=(0,a.useState)([]),[t,o]=(0,a.useState)([]),[c,r]=(0,a.useState)("all"),[d,m]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[g,p]=(0,a.useState)(""),[v,N]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=e=>{const{searchTerm:s}=e.detail;p(s)},s=e=>{const{selectedDate:s}=e.detail;N(s)};window.addEventListener("globalSearch",e),window.addEventListener("globalDateFilter",s);const t=localStorage.getItem("globalSearchTerm"),a=localStorage.getItem("globalSelectedDate");return t&&p(t),a&&N(a),()=>{window.removeEventListener("globalSearch",e),window.removeEventListener("globalDateFilter",s)}},[]),(0,a.useEffect)(()=>{let s=e;if(g.trim()&&(s=s.filter(e=>{var s,t,a,l;const n=g.toLowerCase();return(null===(s=e.homeTeam)||void 0===s?void 0:s.toLowerCase().includes(n))||(null===(t=e.awayTeam)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(a=e.league)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(l=e.sport)||void 0===l?void 0:l.toLowerCase().includes(n))})),v){const e=new Date(v);e.setHours(0,0,0,0);const t=new Date(e);t.setDate(t.getDate()+1),s=s.filter(s=>{const a=new Date(s.startTime);return a>=e&&a<t})}const t=new Date;s=s.filter(e=>new Date(e.startTime)>=t),o(s)},[e,g,v]);const b=async()=>{try{m(!0),h(null);const e=await n.A.getMatches(),t=(e=>e.filter(e=>"basketball"===e.sport_key).map(e=>{var s,t,a;const l=null===(s=e.bookmakers)||void 0===s?void 0:s[0];if(!l||!l.markets||0===l.markets.length)return null;const n=l.markets.find(e=>"h2h"===e.key),i=l.markets.find(e=>"totals"===e.key);if(!n||!n.outcomes||n.outcomes.length<2)return null;const o=n.outcomes,c={1:(null===(t=o[0])||void 0===t?void 0:t.price)||null,2:(null===(a=o[1])||void 0===a?void 0:a.price)||null};if(i&&i.outcomes&&i.outcomes.length>=2){const e=i.outcomes.find(e=>(e.name||"").toLowerCase().startsWith("over"))||i.outcomes[0],s=i.outcomes.find(e=>(e.name||"").toLowerCase().startsWith("under"))||i.outcomes[1]||null,t=e&&null!=e.point?e.point:s&&null!=s.point?s.point:null;if(e&&e.price){const s=null!=t?"Over (".concat(t,")"):"Over";c[s]=e.price}if(s&&s.price){const e=null!=t?"Under (".concat(t,")"):"Under";c[e]=s.price}}if(!c[1]||!c[2])return null;const r=Object.keys(c).filter(e=>null!==c[e]).length,d=l.markets.filter(e=>e.outcomes&&e.outcomes.length>0&&e.outcomes.some(e=>e.price>0)).length,m=Math.max(0,d-r);return{id:e.gameId,league:e.sport_title,time:new Date(e.commence_time).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),startTime:new Date(e.commence_time),homeTeam:e.home_team,awayTeam:e.away_team,odds:c,additionalOdds:m>0?"+".concat(m):null,sport:"Basketball"}}).filter(e=>null!==e))(e.data.data||[]);s(t)}catch(e){console.error("Error fetching basketball matches:",e),h("Failed to load basketball matches. Please try again later."),s([])}finally{m(!1)}};(0,a.useEffect)(()=>{b()},[]);const j="all"===c?t:t.filter(e=>e.league.toLowerCase().includes(c)),x=(()=>{const e={};return j.forEach(s=>{const t=s.league||"Other";e[t]||(e[t]=[]),e[t].push(s)}),e})();return d?(0,i.jsxs)("div",{className:"sport-page",children:[(0,i.jsxs)("div",{className:"sport-header",children:[(0,i.jsx)("h1",{className:"sport-title",children:"Basketball"}),(0,i.jsx)("p",{className:"sport-subtitle",children:"Bet on NBA, College Basketball and international leagues"})]}),(0,i.jsxs)("div",{className:"matches-section",children:[(0,i.jsxs)("div",{className:"section-header",children:[(0,i.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,i.jsx)("div",{className:"view-all-btn empty",style:{opacity:.5},children:"Loading\u2026"})]}),(0,i.jsx)("div",{className:"matches-skeleton-grid",children:Array.from({length:8}).map((e,s)=>(0,i.jsxs)("div",{className:"skeleton",style:{padding:16},children:[(0,i.jsx)("div",{className:"skeleton-line",style:{width:"60%",height:16,marginBottom:8}}),(0,i.jsx)("div",{className:"skeleton-line",style:{width:"80%",height:12,marginBottom:12}}),(0,i.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,i.jsx)("div",{className:"skeleton-odds"}),(0,i.jsx)("div",{className:"skeleton-odds"}),(0,i.jsx)("div",{className:"skeleton-odds"})]})]},s))})]})]}):u?(0,i.jsxs)("div",{className:"sport-page",children:[(0,i.jsxs)("div",{className:"sport-header",children:[(0,i.jsx)("h1",{className:"sport-title",children:"Basketball"}),(0,i.jsx)("p",{className:"sport-subtitle",children:"Bet on NBA, College Basketball and international leagues"})]}),(0,i.jsxs)("div",{className:"error-container",children:[(0,i.jsx)("p",{className:"error-message",children:u}),(0,i.jsx)("button",{onClick:b,className:"retry-btn",children:"Retry"})]})]}):(0,i.jsxs)("div",{className:"sport-page",children:[(0,i.jsxs)("div",{className:"sport-header",children:[(0,i.jsx)("h1",{className:"sport-title",children:"Basketball"}),(0,i.jsx)("p",{className:"sport-subtitle",children:"Bet on NBA, College Basketball and international leagues"})]}),(0,i.jsx)("div",{className:"leagues-grid",children:[{id:"all",name:"All Leagues",count:88},{id:"nba",name:"NBA",count:30},{id:"college",name:"College Basketball",count:58}].map(e=>(0,i.jsxs)("div",{className:"league-card ".concat(c===e.id?"active":""),onClick:()=>r(e.id),children:[(0,i.jsxs)("div",{className:"league-header",children:[(0,i.jsx)("h3",{className:"league-name",children:e.name}),(0,i.jsxs)("span",{className:"league-matches",children:[e.count," matches"]})]}),(0,i.jsxs)("p",{className:"league-description",children:["nba"===e.id&&"National Basketball Association","college"===e.id&&"NCAA Basketball Championships","all"===e.id&&"All available Basketball matches"]})]},e.id))}),(0,i.jsxs)("div",{className:"matches-section",children:[(0,i.jsxs)("div",{className:"section-header",children:[(0,i.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,i.jsx)("button",{className:"view-all-btn",children:"View All"})]}),(0,i.jsx)("div",{className:"matches-grid",children:Object.entries(x).map(e=>{let[s,t]=e;return(0,i.jsxs)("div",{className:"subcategory-group",children:[(0,i.jsx)("h3",{className:"subcategory-title",children:s}),t.map(e=>(0,i.jsx)(l.A,{match:e,sport:e.sport,league:e.league,subcategory:s},e.id))]},s)})})]})]})}}}]);
//# sourceMappingURL=772.adc7f168.chunk.js.map