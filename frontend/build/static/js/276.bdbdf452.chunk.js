"use strict";(self.webpackChunkween_sports_betting=self.webpackChunkween_sports_betting||[]).push([[276],{7276:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(5043),o=a(9456),r=a(3216),i=a(3533),n=a(1816),l=a(5319),c=a(579);const d=e=>{let{subcategory:s,matches:a,sport:d}=e;const m=(0,o.wA)(),h=(0,r.Zp)(),[u,g]=(0,t.useState)(!0),p=e=>"live"===e.status||e.isLive,v=e=>{if(!p(e))return null;if(e.liveTime)return(0,c.jsxs)("div",{className:"live-time-display",children:[(0,c.jsx)("span",{className:"time-icon"}),(0,c.jsx)("span",{children:e.liveTime})]});if(e.startTime){const s=new Date(e.startTime),a=new Date-s,t=Math.floor(a/6e4);if(t>0)return(0,c.jsxs)("div",{className:"live-time-display",children:[(0,c.jsx)("span",{className:"time-icon"}),(0,c.jsxs)("span",{children:["LIVE ",t,"'"]})]})}return(0,c.jsxs)("div",{className:"live-time-display",children:[(0,c.jsx)("span",{className:"time-icon"}),(0,c.jsx)("span",{children:"LIVE"})]})},j=e=>p(e)?e.score?(0,c.jsx)("div",{className:"live-score",children:e.score}):void 0!==e.homeScore&&void 0!==e.awayScore?(0,c.jsxs)("div",{className:"live-score",children:[e.homeScore,"-",e.awayScore]}):null:null,x=e=>{const s=new Date(e),a=s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),t=s.toLocaleDateString([],{day:"2-digit",month:"2-digit"});return"".concat(t," ").concat(a)},N=e=>{let{match:s,basicOddsTypes:a}=e;const t=new Set(["Total","total","handicapLine","handicap_line"]),o=Object.keys(s.odds||{}).filter(e=>s.odds[e]&&s.odds[e]>0&&!t.has(e)),r=Math.max(0,o.length-a.length);return(0,c.jsxs)("div",{className:"match-row ".concat(p(s)?"live-match":""),onClick:()=>{try{const e=sessionStorage.getItem("home_matches_data"),s=sessionStorage.getItem("home_popular_data"),a=sessionStorage.getItem("home_filtered_data");(e||s||a)&&console.log("[SUBCATEGORY] Home data already preserved in session storage")}catch(e){console.log("[SUBCATEGORY] Session storage not available")}h("/match/".concat(s._id||s.id))},children:[p(s)&&(0,c.jsx)("div",{className:"live-status-badge",children:"LIVE"}),(0,c.jsxs)("div",{className:"match-teams",children:[(0,c.jsx)("div",{className:"match-date-time",children:p(s)?v(s):(0,c.jsx)("span",{children:x(s.startTime)})}),(0,c.jsx)("div",{className:"team",children:s.homeTeam}),p(s)&&j(s),(0,c.jsx)("div",{className:"team",children:s.awayTeam})]}),(0,c.jsx)("div",{className:"odds-headers-container",children:a.map(e=>(0,c.jsx)("div",{className:"odds-header",children:e},e))}),(0,c.jsx)("div",{className:"odds-buttons-container",children:a.map(e=>{const a=((e,s)=>{if(!e.odds)return null;const a=e.odds[s];return a&&a>0?a:null})(s,e);if(!a)return(0,c.jsx)("div",{className:"odds-button empty"},e);const t=(0,n.G1)(s,a,e);return t.shouldDisable?(0,c.jsx)(i.A,{riskAssessment:t,className:"odds-button"},e):(0,c.jsx)("button",{className:"odds-button ".concat(p(s)?"live-highlight":""),onClick:t=>{t.stopPropagation(),((e,s,a)=>{const t={matchId:e.id||e._id,match:"".concat(e.homeTeam," vs ").concat(e.awayTeam),homeTeam:e.homeTeam,awayTeam:e.awayTeam,league:e.league,startTime:e.startTime,type:s,odds:a,stake:0,sport:d};m((0,l.xB)(t))})(s,e,a)},children:(0,c.jsx)("div",{className:"odds-value",children:a.toFixed(2)})},e)})}),r>0&&(0,c.jsx)("div",{className:"additional-markets-container",children:(0,c.jsxs)("button",{className:"more-markets-button",title:"View all betting markets",onClick:e=>{e.stopPropagation();try{const e=sessionStorage.getItem("home_matches_data"),s=sessionStorage.getItem("home_popular_data"),a=sessionStorage.getItem("home_filtered_data");(e||s||a)&&console.log("[SUBCATEGORY] Home data already preserved in session storage")}catch(e){console.log("[SUBCATEGORY] Session storage not available")}const a=s._id||s.id;a?h("/match/".concat(a,"?from=additional")):console.error("Invalid match ID format")},children:[(0,c.jsx)("span",{className:"more-markets-icon",children:"+"}),(0,c.jsx)("span",{className:"more-markets-count",children:r})]})})]})},y=a.filter(e=>(e=>!!e.odds&&Object.values(e.odds).some(e=>e&&e>0))(e));if(0===y.length)return null;const b=(()=>{if(!a||0===a.length)return[];const e=new Set;return a.forEach(s=>{s.odds&&(s.odds instanceof Map||s.odds&&"function"===typeof s.odds.get?s.odds.forEach((s,a)=>{s&&"number"===typeof s&&s>0&&e.add(a)}):s.odds.default&&s.odds.default.odds?Object.keys(s.odds.default.odds).forEach(a=>{s.odds.default.odds[a]&&s.odds.default.odds[a]>0&&e.add(a)}):Object.keys(s.odds).forEach(a=>{s.odds[a]&&s.odds[a]>0&&e.add(a)}))}),Array.from(e)})();return(0,c.jsxs)("div",{className:"subcategory-match-card",children:[(0,c.jsxs)("div",{className:"subcategory-header",children:[(0,c.jsxs)("div",{className:"subcategory-title",onClick:()=>g(e=>!e),style:{cursor:"pointer"},children:[(0,c.jsx)("span",{className:"arrow",children:u?"\u25bc":"\u25b6"}),s]}),b.map(e=>(0,c.jsx)("div",{className:"odds-header",children:e},e)),(0,c.jsx)("div",{className:"odds-header"})]}),u&&(0,c.jsx)("div",{className:"subcategory-matches",children:y.map((e,s)=>(0,c.jsx)(N,{match:e,basicOddsTypes:b},e.id||e._id||s))})]})};var m=a(6305),h=a(4167);const u=()=>{const[e,s]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[n,l]=(0,t.useState)(null),[u,g]=(0,t.useState)(""),[p,v]=(0,t.useState)("");(0,t.useEffect)(()=>{const e=e=>{const{searchTerm:s}=e.detail;g(s)},s=e=>{const{selectedDate:s}=e.detail;v(s)};window.addEventListener("globalSearch",e),window.addEventListener("globalDateFilter",s);const a=localStorage.getItem("globalSearchTerm"),t=localStorage.getItem("globalSelectedDate");return a&&g(a),t&&v(t),()=>{window.removeEventListener("globalSearch",e),window.removeEventListener("globalDateFilter",s)}},[]),(0,t.useEffect)(()=>{let s=e;if(u.trim()&&(s=s.filter(e=>{var s,a,t,o;const r=u.toLowerCase();return(null===(s=e.homeTeam)||void 0===s?void 0:s.toLowerCase().includes(r))||(null===(a=e.awayTeam)||void 0===a?void 0:a.toLowerCase().includes(r))||(null===(t=e.league)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(o=e.sport)||void 0===o?void 0:o.toLowerCase().includes(r))})),p){const e=new Date(p);e.setHours(0,0,0,0);const a=new Date(e);a.setDate(a.getDate()+1),s=s.filter(s=>{const t=new Date(s.startTime);return t>=e&&t<a})}o(s)},[e,u,p]);const j=async()=>{try{i(!0),l(null);const e=await m.A.getMatchesByKey("soccer"),a=(e=>{if(!Array.isArray(e))return[];const s=new Date;return e.filter(e=>{const a=(e.sport_key||e.sport||e.sport_title||"").toLowerCase(),t="soccer"===(a.split("_")[0]||"")||"soccer"===a,o=String(e.league||e.sport_title||"").toLowerCase(),r=/\bboxing\b|\bboxi\b|\bmma\b|\bufc\b|\brugby\b/.test(o),i=new Date(e.startTime),n="upcoming"===(e.status||"upcoming")&&i>s;return t&&n&&!r}).map(e=>{const s=e.odds||{},a=new Date(e.startTime);if(["1","2","X","1X","12","2X"].forEach(e=>{if(s&&null!=s[e]){const a=Number(s[e]);s[e]=Number.isFinite(a)?a:s[e]}}),!(s[1]>0&&s[2]>0))return null;const t=Number(e.additionalMarkets||0),o=["Total","total","handicapLine","handicap_line"],r=Object.keys(s).filter(e=>s[e]&&s[e]>0&&!o.includes(e)).length,i=Math.max(0,t-r),n=String(e.sport_key||"").toLowerCase().split("_").filter(Boolean),l=e.country||(n.length>1?n[1]:"")||"";return{id:e.id,league:e.league||e.competition||e.tournament||"Other",country:l,sport_key:e.sport_key||"",time:a.toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),startTime:a,homeTeam:e.homeTeam,awayTeam:e.awayTeam,odds:s,additionalOdds:i>0?"+".concat(i):null,sport:"Soccer"}}).filter(Boolean)})(e.data.matches||[]);s(a)}catch(e){console.error("Error fetching soccer matches:",e),l("Failed to load soccer matches. Please try again later."),s([])}finally{i(!1)}};(0,t.useEffect)(()=>{j();const e=setInterval(j,3e4);return()=>clearInterval(e)},[]);const x={EPL:["Premier League","English Premier League","EPL","England Premier League"],"Serie A":["Serie A","Italian Serie A","Italy Serie A"],Bundesliga:["Bundesliga","German Bundesliga","Germany Bundesliga"],"La Liga":["La Liga","Spanish La Liga","Spain La Liga"],"Ligue 1":["Ligue 1","French Ligue 1","France Ligue One"],"Champions League":["UEFA Champions League","Champions League","UCL"],"Europa League":["UEFA Europa League","Europa League","UEL"],MLS:["Major League Soccer","MLS"]},N=(()=>{const e={},s=e=>String(e||"").toLowerCase().trim().replace(/[_.-]+/g," ");return a.forEach(a=>{const t=(e=>{const a=s(e.league);for(const[t,o]of Object.entries(x))for(const e of o){const o=s(e);if(o&&a===o)return t}return e.league||"Other"})(a);e[t]||(e[t]=[]),e[t].push(a)}),e})();return r?(0,c.jsxs)("div",{className:"sport-page",children:[(0,c.jsxs)("div",{className:"sport-header",children:[(0,c.jsx)("h1",{className:"sport-title",children:"Soccer"}),(0,c.jsx)("p",{className:"sport-subtitle",children:"Bet on Premier League, Champions League and more"})]}),(0,c.jsxs)("div",{className:"matches-section",children:[(0,c.jsxs)("div",{className:"section-header",children:[(0,c.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,c.jsx)("div",{className:"view-all-btn empty",style:{opacity:.5},children:"Loading\u2026"})]}),(0,c.jsx)("div",{className:"matches-skeleton-grid",children:Array.from({length:8}).map((e,s)=>(0,c.jsxs)("div",{className:"skeleton",style:{padding:16},children:[(0,c.jsx)("div",{className:"skeleton-line",style:{width:"60%",height:16,marginBottom:8}}),(0,c.jsx)("div",{className:"skeleton-line",style:{width:"80%",height:12,marginBottom:12}}),(0,c.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,c.jsx)("div",{className:"skeleton-odds"}),(0,c.jsx)("div",{className:"skeleton-odds"}),(0,c.jsx)("div",{className:"skeleton-odds"})]})]},s))})]})]}):n?(0,c.jsxs)("div",{className:"sport-page",children:[(0,c.jsxs)("div",{className:"sport-header",children:[(0,c.jsx)("h1",{className:"sport-title",children:"Soccer"}),(0,c.jsx)("p",{className:"sport-subtitle",children:"Bet on Premier League, Champions League and more"})]}),(0,c.jsxs)("div",{className:"error-container",children:[(0,c.jsx)("p",{className:"error-message",children:n}),(0,c.jsx)("button",{onClick:j,className:"retry-btn",children:"Retry"})]})]}):(0,c.jsxs)("div",{className:"sport-page",children:[(0,c.jsxs)("div",{className:"sport-header",children:[(0,c.jsx)("h1",{className:"sport-title",children:"Soccer"}),(0,c.jsx)("p",{className:"sport-subtitle",children:"Bet on Premier League, Champions League and more"})]}),(0,c.jsxs)("div",{className:"matches-section",children:[(0,c.jsxs)("div",{className:"section-header",children:[(0,c.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,c.jsx)("button",{className:"view-all-btn",children:"View All"})]}),(0,c.jsx)("div",{className:"matches-grid",children:Object.entries(N).map(e=>{let[s,a]=e;const t=a[0]||{},o=t.fullLeagueTitle||(0,h.k)({sportKeyOrName:t.sport_key||t.sport||"Soccer",country:t.country||s||"",leagueName:t.league||s,fallbackSportTitle:"Soccer"});return(0,c.jsx)(d,{subcategory:o,matches:a,sport:"Soccer"},s)})})]})]})}}}]);
//# sourceMappingURL=276.bdbdf452.chunk.js.map