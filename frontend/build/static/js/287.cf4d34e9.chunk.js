"use strict";(self.webpackChunkween_sports_betting=self.webpackChunkween_sports_betting||[]).push([[287],{9287:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var a=s(5043),l=s(4194),n=s(6305),i=s(4167),o=s(579);const r=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[u,p]=(0,a.useState)(""),[g,v]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=e=>{const{searchTerm:t}=e.detail;p(t)},t=e=>{const{selectedDate:t}=e.detail;v(t)};window.addEventListener("globalSearch",e),window.addEventListener("globalDateFilter",t);const s=localStorage.getItem("globalSearchTerm"),a=localStorage.getItem("globalSelectedDate");return s&&p(s),a&&v(a),()=>{window.removeEventListener("globalSearch",e),window.removeEventListener("globalDateFilter",t)}},[]),(0,a.useEffect)(()=>{let t=e;if(u.trim()&&(t=t.filter(e=>{var t,s,a,l;const n=u.toLowerCase();return(null===(t=e.homeTeam)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(s=e.awayTeam)||void 0===s?void 0:s.toLowerCase().includes(n))||(null===(a=e.league)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(l=e.sport)||void 0===l?void 0:l.toLowerCase().includes(n))})),g){const e=new Date(g);e.setHours(0,0,0,0);const s=new Date(e);s.setDate(s.getDate()+1),t=t.filter(t=>{const a=new Date(t.startTime);return a>=e&&a<s})}const s=new Date;t=t.filter(e=>new Date(e.startTime)>=s),r(t)},[e,u,g]);const b=async()=>{try{d(!0),h(null);const e=await n.A.getMatches(),s=(e=>e.filter(e=>"baseball_mlb"===e.sport_key).map(e=>{var t,s,a;const l=null===(t=e.bookmakers)||void 0===t?void 0:t[0];if(!l||!l.markets||0===l.markets.length)return null;const n=l.markets.find(e=>"h2h"===e.key),i=l.markets.find(e=>"totals"===e.key);if(!n||!n.outcomes||n.outcomes.length<2)return null;const o=n.outcomes,r={1:(null===(s=o[0])||void 0===s?void 0:s.price)||null,2:(null===(a=o[1])||void 0===a?void 0:a.price)||null,X:0,"1X":0,12:0,"2X":0};if(i&&i.outcomes&&i.outcomes.length>=2){const e=i.outcomes.find(e=>(e.name||"").toLowerCase().startsWith("over"))||i.outcomes[0],t=i.outcomes.find(e=>(e.name||"").toLowerCase().startsWith("under"))||i.outcomes[1],s=e&&null!=e.point?e.point:t&&null!=t.point?t.point:null;if(r.Total=s,e&&e.price){const t=null!=s?"Over (".concat(s,")"):"Over";r[t]=e.price}if(t&&t.price){const e=null!=s?"Under (".concat(s,")"):"Under";r[e]=t.price}}if(!r[1]||!r[2])return null;const c=["Total","total","handicapLine","handicap_line","Over","Under"],d=Object.keys(r).filter(e=>null!==r[e]&&0!==r[e]&&!c.includes(e)).length,m=l.markets.filter(e=>e.outcomes&&e.outcomes.length>0&&e.outcomes.some(e=>e.price>0)).length,h=Math.max(0,m-d);return{id:e.gameId,league:e.sport_title,time:new Date(e.commence_time).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),startTime:new Date(e.commence_time),homeTeam:e.home_team,awayTeam:e.away_team,odds:r,additionalOdds:h>0?"+".concat(h):null,sport:"Baseball"}}).filter(e=>null!==e))(e.data.data||[]);t(s)}catch(e){console.error("Error fetching baseball matches:",e),h("Failed to load baseball matches. Please try again later.")}finally{d(!1)}};(0,a.useEffect)(()=>{b()},[]);const j=(()=>{const e={};return s.forEach(t=>{const s=t.league||"Other";e[s]||(e[s]=[]),e[s].push(t)}),e})();return c?(0,o.jsxs)("div",{className:"sport-page",children:[(0,o.jsxs)("div",{className:"sport-header",children:[(0,o.jsx)("h1",{className:"sport-title",children:"Baseball"}),(0,o.jsx)("p",{className:"sport-subtitle",children:"Bet on MLB and international baseball leagues"})]}),(0,o.jsxs)("div",{className:"matches-section",children:[(0,o.jsxs)("div",{className:"section-header",children:[(0,o.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,o.jsx)("div",{className:"view-all-btn empty",style:{opacity:.5},children:"Loading\u2026"})]}),(0,o.jsx)("div",{className:"matches-skeleton-grid",children:Array.from({length:8}).map((e,t)=>(0,o.jsxs)("div",{className:"skeleton",style:{padding:16},children:[(0,o.jsx)("div",{className:"skeleton-line",style:{width:"60%",height:16,marginBottom:8}}),(0,o.jsx)("div",{className:"skeleton-line",style:{width:"80%",height:12,marginBottom:12}}),(0,o.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,o.jsx)("div",{className:"skeleton-odds"}),(0,o.jsx)("div",{className:"skeleton-odds"}),(0,o.jsx)("div",{className:"skeleton-odds"})]})]},t))})]})]}):m?(0,o.jsxs)("div",{className:"sport-page",children:[(0,o.jsxs)("div",{className:"sport-header",children:[(0,o.jsx)("h1",{className:"sport-title",children:"Baseball"}),(0,o.jsx)("p",{className:"sport-subtitle",children:"Bet on MLB and international baseball leagues"})]}),(0,o.jsxs)("div",{className:"error-container",children:[(0,o.jsx)("p",{className:"error-message",children:m}),(0,o.jsx)("button",{onClick:b,className:"retry-btn",children:"Try Again"})]})]}):(0,o.jsxs)("div",{className:"sport-page",children:[(0,o.jsxs)("div",{className:"sport-header",children:[(0,o.jsx)("h1",{className:"sport-title",children:"Baseball"}),(0,o.jsx)("p",{className:"sport-subtitle",children:"Bet on MLB and international baseball leagues"})]}),(0,o.jsxs)("div",{className:"matches-section",children:[(0,o.jsxs)("div",{className:"section-header",children:[(0,o.jsx)("h2",{className:"section-title",children:"UPCOMING MATCHES"}),(0,o.jsx)("button",{className:"view-all-btn",children:"View All"})]}),0===Object.keys(j).length?(0,o.jsx)("div",{className:"no-matches",children:(0,o.jsx)("p",{children:"No baseball matches available at the moment."})}):Object.entries(j).map(e=>{let[t,s]=e;const a=s[0]||{},n=a.fullLeagueTitle||(0,i.k7)({sportKeyOrName:a.sport_key||a.sport||"Baseball",country:a.country||t||"",leagueName:a.league||t,fallbackSportTitle:"Baseball"});return(0,o.jsxs)("div",{className:"subcategory-section",children:[(0,o.jsx)("h3",{className:"subcategory-title",children:n}),(0,o.jsx)("div",{className:"matches-grid",children:s.map(e=>(0,o.jsx)(l.A,{match:e},e.id))})]},t)})]})]})}}}]);
//# sourceMappingURL=287.cf4d34e9.chunk.js.map